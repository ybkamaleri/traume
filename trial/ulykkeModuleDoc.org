#+Title: Dokument Ulykke og AIS
#+options: toc:nil

* Ulykke
Module for ulykke utvalg for kolonne
** reactiveValus for 'vars'
brukes til å samle vardier som skal returneres
** vars$velge
Vis /TRUE/ skal kolonne for ulykke type velges else transport type
velges. Verdien returneres reactive =velge()=
** vars$ulykke
velge kolonne som skal velges dvs. ulykke type == 1
** vars$trans
Koder som velge i kolonne transport type. Derfor må spesifiseres hvilken kolonne
ie. ~acc_trsp_rd_type~ når utvalges skal gjøres.
** Filter data
Finner ut måten å velge alle ulykke typer kolonner med verdi 1. /prob10001/
** Relasjoner
Hvordan data relasjon er lages er slik..


* Skade
Module for skade
** Relasjoner
Hvis /TRUE/ valg alle og /FALSE/ valg input kropp

  #+begin_src dot :file ./img/example1.png :cmdline -Kdot -Tpng
    digraph graphname{

                    K [label="Kroppsregioner"]      // node K
                    A [label="Alle kroppsregioner \n 1 to 9"] // node A
                    H [label="Head"] // node H
                    R [label="Rygg"] // node R
                    B [label="Tillegg rygg"] // node B
                    V [label="valgte kroppsregion"] // node V


                    K->A [label="TRUE", fontcolor=darkgreen] // edge K->A
                    K->H [label="FALSE", fontcolor=red] // edge K->H
                    H->V [label="TRUE", fontcolor=darkgreen] // edge H->V
                    K->R [label="FALSE", fontcolor=red] // edge K->R
                    R->V [label="TRUE", fontcolor=darkgreen] //edge R->V
                    R->B [label="FALSE", fontcolor=red] // edge R->V

    }
  #+end_src

  #+RESULTS:
  [[file:./img/example1.png]]
** Kode for beregning
Forslag til koding
#+BEGIN_SRC R
  valgRegion <- if (kroppsregion == 10){1:9} else {input$kropp}

  masterData[, grepl(paste0("'^", valgRegion, "'"), ais)]
#+END_SRC

** 'vars' reactiveValues
For å beholder vardier som skal returneres
